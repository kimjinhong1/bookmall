<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="member"> <!-- mapper파일의 이름 -->
	
	<select id="member" parameterType="bookmall.user.UserVo" resultType="bookmall.user.UserVo">
		SELECT * FROM user
		<include refid="memberWhere"/>
		ORDER BY userno DESC
		LIMIT ${startIdx}, 10  
	</select>
	
	<sql id="memberWhere">  <!-- 코드의 중복으로 줄이기 위해 -->
		<where>
			<if test="searchType != null and searchType != '' ">
				${searchType} LIKE '%${searchWord}%'
			</if>
		</where>
	</sql>
	
	<select id="count" resultType="int" parameterType="bookmall.user.UserVo">
		SELECT COUNT(*) FROM user
		<include refid="memberWhere"/>
	</select>
	
</mapper>